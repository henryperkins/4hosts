<svg viewBox="0 0 1400 1600" xmlns="http://www.w3.org/2000/svg">
  <desc>
    Diagram of the Four Hosts Agentic Research Application technical flow: User Interface → Paradigm Classification →
    Context Engineering (Write, Select, Compress, Isolate) → Retrieval and Source Scoring → Synthesis with Self‑Healing → Final Output.
    Arrows connect each stage and sample metrics are displayed for illustration.
  </desc>
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" font-size="22" font-weight="bold">Four Hosts Agentic Research Application - Technical Flow</text>

  <!-- User Input Section -->
  <g transform="translate(50, 60)">
    <rect x="0" y="0" width="1300" height="150" fill="#f3f4f6" stroke="#6b7280" stroke-width="2" rx="10"/>
    <text x="650" y="30" text-anchor="middle" font-size="18" font-weight="bold">1. User Interface Layer</text>

    <!-- Query Input -->
    <rect x="50" y="50" width="300" height="80" fill="#e5e7eb" stroke="#6b7280" stroke-width="2" rx="5"/>
    <text x="200" y="75" text-anchor="middle" font-size="14" font-weight="bold">Query Input</text>
    <text x="200" y="95" text-anchor="middle" font-size="12">"How can small businesses</text>
    <text x="200" y="110" text-anchor="middle" font-size="12">compete with Amazon?"</text>

    <!-- Options -->
    <rect x="400" y="50" width="300" height="80" fill="#e5e7eb" stroke="#6b7280" stroke-width="2" rx="5"/>
    <text x="550" y="75" text-anchor="middle" font-size="14" font-weight="bold">Advanced Options</text>
    <text x="550" y="95" text-anchor="middle" font-size="12">• Depth: Standard</text>
    <text x="550" y="110" text-anchor="middle" font-size="12">• Paradigm: Auto</text>

    <!-- Real-time Display -->
    <rect x="750" y="50" width="500" height="80" fill="#e5e7eb" stroke="#6b7280" stroke-width="2" rx="5"/>
    <text x="1000" y="75" text-anchor="middle" font-size="14" font-weight="bold">Paradigm Distribution Display</text>
    <text x="900" y="95" text-anchor="middle" font-size="11">🟢 Maeve: 40%</text>
    <text x="1000" y="95" text-anchor="middle" font-size="11">🔴 Dolores: 25%</text>
    <text x="1100" y="95" text-anchor="middle" font-size="11">🔵 Bernard: 20%</text>
    <text x="900" y="110" text-anchor="middle" font-size="11">🟠 Teddy: 15%</text>
    <text x="1100" y="110" text-anchor="middle" font-size="11">Primary: MAEVE</text>
  </g>

  <!-- Classification Engine -->
  <g transform="translate(50, 240)">
    <rect x="0" y="0" width="1300" height="200" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="10"/>
    <text x="650" y="30" text-anchor="middle" font-size="18" font-weight="bold">2. Paradigm Classification Engine</text>

    <!-- Query Analysis -->
    <rect x="50" y="50" width="350" height="120" fill="#fff7ed" stroke="#ea580c" stroke-width="2" rx="5"/>
    <text x="225" y="75" text-anchor="middle" font-size="14" font-weight="bold">Query Analyzer</text>
    <text x="225" y="95" text-anchor="middle" font-size="11">Entities: [small businesses, Amazon]</text>
    <text x="225" y="110" text-anchor="middle" font-size="11">Intent: competitive_strategy</text>
    <text x="225" y="125" text-anchor="middle" font-size="11">Domain: business/commerce</text>
    <text x="225" y="140" text-anchor="middle" font-size="11">Urgency: moderate</text>
    <text x="225" y="155" text-anchor="middle" font-size="11">Complexity: high</text>

    <!-- Paradigm Mapping -->
    <rect x="450" y="50" width="400" height="120" fill="#fff7ed" stroke="#ea580c" stroke-width="2" rx="5"/>
    <text x="650" y="75" text-anchor="middle" font-size="14" font-weight="bold">Paradigm Classifier</text>
    <text x="650" y="95" text-anchor="middle" font-size="11">Keywords matched:</text>
    <text x="650" y="110" text-anchor="middle" font-size="11">• "compete" → Maeve (strategy)</text>
    <text x="650" y="125" text-anchor="middle" font-size="11">• "small vs Amazon" → Dolores (David/Goliath)</text>
    <text x="650" y="140" text-anchor="middle" font-size="11">• "businesses" → Bernard (analysis)</text>
    <text x="650" y="155" text-anchor="middle" font-size="11">• "help small" → Teddy (protection)</text>

    <!-- Decision -->
    <rect x="900" y="50" width="350" height="120" fill="#fff7ed" stroke="#ea580c" stroke-width="2" rx="5"/>
    <text x="1075" y="75" text-anchor="middle" font-size="14" font-weight="bold">Paradigm Decision</text>
    <text x="1075" y="100" text-anchor="middle" font-size="13" font-weight="bold">Primary: MAEVE (Strategic)</text>
    <text x="1075" y="120" text-anchor="middle" font-size="11">Secondary: DOLORES</text>
    <text x="1075" y="140" text-anchor="middle" font-size="11">Confidence: 78%</text>
  </g>

  <!-- Context Engineering -->
  <g transform="translate(50, 470)">
    <rect x="0" y="0" width="1300" height="280" fill="#e0e7ff" stroke="#3b82f6" stroke-width="2" rx="10"/>
    <text x="650" y="30" text-anchor="middle" font-size="18" font-weight="bold">3. Context Engineering Pipeline (MAEVE Configuration)</text>

    <!-- Write Layer -->
    <rect x="50" y="50" width="280" height="200" fill="#dbeafe" stroke="#2563eb" stroke-width="2" rx="5"/>
    <text x="190" y="75" text-anchor="middle" font-size="14" font-weight="bold">📝 Write Layer</text>
    <text x="190" y="95" text-anchor="middle" font-size="11" font-weight="bold">MAEVE Mode:</text>
    <text x="190" y="115" text-anchor="middle" font-size="10">Map competitive landscape:</text>
    <text x="190" y="130" text-anchor="middle" font-size="10">• Amazon strengths/weaknesses</text>
    <text x="190" y="145" text-anchor="middle" font-size="10">• Small biz advantages</text>
    <text x="190" y="160" text-anchor="middle" font-size="10">• Market opportunities</text>
    <text x="190" y="175" text-anchor="middle" font-size="10">• Success stories</text>
    <text x="190" y="195" text-anchor="middle" font-size="11" font-style="italic">+ DOLORES: Note monopoly issues</text>

    <!-- Select Layer -->
    <rect x="390" y="50" width="350" height="200" fill="#dbeafe" stroke="#2563eb" stroke-width="2" rx="5"/>
    <text x="510" y="75" text-anchor="middle" font-size="14" font-weight="bold">🔍 Select Layer</text>
    <text x="510" y="95" text-anchor="middle" font-size="11" font-weight="bold">Search Strategy:</text>
    <text x="510" y="115" text-anchor="middle" font-size="10">Primary searches:</text>
    <text x="510" y="130" text-anchor="middle" font-size="10">• "compete with Amazon strategy"</text>
    <text x="510" y="145" text-anchor="middle" font-size="10">• "small business advantages"</text>
    <text x="510" y="160" text-anchor="middle" font-size="10">• "niche market strategies"</text>
    <text x="510" y="175" text-anchor="middle" font-size="10">• Industry reports + case studies</text>
    <text x="510" y="195" text-anchor="middle" font-size="10">Secondary (DOLORES): "Amazon monopoly impact"</text>

    <!-- Compress Layer -->
    <rect x="770" y="50" width="250" height="200" fill="#dbeafe" stroke="#2563eb" stroke-width="2" rx="5"/>
    <text x="895" y="75" text-anchor="middle" font-size="14" font-weight="bold">🗜️ Compress Layer</text>
    <text x="895" y="95" text-anchor="middle" font-size="11" font-weight="bold">MAEVE Compression</text>
    <text x="895" y="115" text-anchor="middle" font-size="10">Strategy: action_extraction</text>
    <text x="895" y="130" text-anchor="middle" font-size="10">Ratio: 40%</text>
    <text x="895" y="145" text-anchor="middle" font-size="10">Token budget: 1300</text>
    <text x="895" y="160" text-anchor="middle" font-size="10">Keep: tactics, metrics, steps</text>

    <!-- Isolate Layer -->
    <rect x="1050" y="50" width="250" height="200" fill="#dbeafe" stroke="#2563eb" stroke-width="2" rx="5"/>
    <text x="1175" y="75" text-anchor="middle" font-size="14" font-weight="bold">🧪 Isolate Layer</text>
    <text x="1175" y="95" text-anchor="middle" font-size="11" font-weight="bold">Strategic Intelligence</text>
    <text x="1175" y="115" text-anchor="middle" font-size="10">Findings criteria:</text>
    <text x="1175" y="130" text-anchor="middle" font-size="10">• Competitive advantages</text>
    <text x="1175" y="145" text-anchor="middle" font-size="10">• Implementation tactics</text>
    <text x="1175" y="160" text-anchor="middle" font-size="10">• Success metrics</text>
    <text x="1175" y="175" text-anchor="middle" font-size="10">• Resource needs</text>
  </g>

  <!-- Retrieval & Source Scoring -->
  <g transform="translate(50, 780)">
    <rect x="0" y="0" width="1300" height="250" fill="#ecfeff" stroke="#06b6d4" stroke-width="2" rx="10"/>
    <text x="650" y="30" text-anchor="middle" font-size="18" font-weight="bold">4. Retrieval & Source Scoring</text>

    <!-- Retrieval Cluster -->
    <rect x="50" y="50" width="500" height="180" fill="#cffafe" stroke="#0891b2" stroke-width="2" rx="5"/>
    <text x="300" y="75" text-anchor="middle" font-size="14" font-weight="bold">🔎 Results Retrieval</text>
    <text x="300" y="95" text-anchor="middle" font-size="11">Top results fetched by relevance</text>
    <text x="300" y="115" text-anchor="middle" font-size="10">• 3,765 sources evaluated</text>
    <text x="300" y="130" text-anchor="middle" font-size="10">• Deduplication, filtering applied</text>
    <text x="300" y="145" text-anchor="middle" font-size="10">• Domain diversity checks</text>

    <!-- Scoring -->
    <rect x="600" y="50" width="250" height="180" fill="#d1fae5" stroke="#059669" stroke-width="2" rx="5"/>
    <text x="725" y="75" text-anchor="middle" font-size="14" font-weight="bold">✅ Credibility Scoring</text>
    <text x="725" y="95" text-anchor="middle" font-size="11">Thresholds:</text>
    <text x="725" y="115" text-anchor="middle" font-size="10">✓ Peer-reviewed: 0.95</text>
    <text x="725" y="130" text-anchor="middle" font-size="10">✓ Government: 0.88</text>
    <text x="725" y="145" text-anchor="middle" font-size="10">✓ Industry leaders: 0.82</text>
    <text x="725" y="160" text-anchor="middle" font-size="10">✓ News: 0.70</text>
    <text x="725" y="175" text-anchor="middle" font-size="10">✗ Opinion blogs: 0.25</text>

    <!-- Findings -->
    <rect x="900" y="50" width="350" height="180" fill="#d1fae5" stroke="#059669" stroke-width="2" rx="5"/>
    <text x="1075" y="75" text-anchor="middle" font-size="14" font-weight="bold">🎯 Key Findings</text>
    <text x="1075" y="95" text-anchor="middle" font-size="11">Strategic insights extracted:</text>
    <text x="1075" y="115" text-anchor="middle" font-size="10">• Local same-day > Prime delivery</text>
    <text x="1075" y="130" text-anchor="middle" font-size="10">• Personal service competitive edge</text>
    <text x="1075" y="145" text-anchor="middle" font-size="10">• Community integration strategies</text>
    <text x="1075" y="160" text-anchor="middle" font-size="10">• Successful niche examples (12)</text>
    <text x="1075" y="175" text-anchor="middle" font-size="10">• Policy changes favoring local</text>
    <text x="1075" y="195" text-anchor="middle" font-size="11" font-weight="bold">Actionable strategies: 23</text>
  </g>

  <!-- Synthesis -->
  <g transform="translate(50, 1060)">
    <rect x="0" y="0" width="1300" height="220" fill="#fce7f3" stroke="#ec4899" stroke-width="2" rx="10"/>
    <text x="650" y="30" text-anchor="middle" font-size="18" font-weight="bold">5. Synthesis & Presentation</text>

    <!-- Integration -->
    <rect x="50" y="50" width="400" height="150" fill="#fdf2f8" stroke="#db2777" stroke-width="2" rx="5"/>
    <text x="250" y="75" text-anchor="middle" font-size="14" font-weight="bold">🔄 Paradigm Integration</text>
    <text x="250" y="100" text-anchor="middle" font-size="11">MAEVE (Primary): Strategic framework</text>
    <text x="250" y="115" text-anchor="middle" font-size="11">DOLORES (Support): Systemic context</text>
    <text x="250" y="135" text-anchor="middle" font-size="10">• 23 actionable strategies organized</text>
    <text x="250" y="150" text-anchor="middle" font-size="10">• 5 systemic advantages highlighted</text>
    <text x="250" y="165" text-anchor="middle" font-size="10">• 3 case studies for inspiration</text>
    <text x="250" y="180" text-anchor="middle" font-size="10">• Policy momentum documented</text>

    <!-- Answer Structure -->
    <rect x="500" y="50" width="400" height="150" fill="#fdf2f8" stroke="#db2777" stroke-width="2" rx="5"/>
    <text x="700" y="75" text-anchor="middle" font-size="14" font-weight="bold">📋 Answer Generation</text>
    <text x="700" y="95" text-anchor="middle" font-size="11" font-weight="bold">MAEVE-style response:</text>
    <text x="700" y="115" text-anchor="middle" font-size="10">1. Executive Summary (3 key strategies)</text>
    <text x="700" y="130" text-anchor="middle" font-size="10">2. Immediate Actions (quick wins)</text>
    <text x="700" y="145" text-anchor="middle" font-size="10">3. Strategic Framework (4 phases)</text>
    <text x="700" y="160" text-anchor="middle" font-size="10">4. Success Metrics (KPIs)</text>
    <text x="700" y="175" text-anchor="middle" font-size="10">+ Context: Amazon vulnerabilities</text>

    <!-- Self-Healing Check -->
    <rect x="950" y="50" width="300" height="150" fill="#fdf2f8" stroke="#db2777" stroke-width="2" rx="5"/>
    <text x="1100" y="75" text-anchor="middle" font-size="14" font-weight="bold">🏥 Self-Healing</text>
    <text x="1100" y="95" text-anchor="middle" font-size="11">Quality checks passed:</text>
    <text x="1100" y="115" text-anchor="middle" font-size="10">✓ Actionable content: 87%</text>
    <text x="1100" y="130" text-anchor="middle" font-size="10">✓ Source diversity: Good</text>
    <text x="1100" y="145" text-anchor="middle" font-size="10">✓ Bias check: Balanced</text>
    <text x="1100" y="160" text-anchor="middle" font-size="10">✓ Paradigm fit: Optimal</text>
    <text x="1100" y="180" text-anchor="middle" font-size="11" font-weight="bold">No paradigm switch needed</text>
  </g>

  <!-- Final Output -->
  <g transform="translate(50, 1310)">
    <rect x="0" y="0" width="1300" height="250" fill="#d1fae5" stroke="#10b981" stroke-width="3" rx="10"/>
    <text x="650" y="30" text-anchor="middle" font-size="18" font-weight="bold">6. Final Research Output</text>

    <rect x="50" y="50" width="1200" height="180" fill="#f0fdf4" stroke="#059669" stroke-width="2" rx="5"/>
    <text x="650" y="75" text-anchor="middle" font-size="16" font-weight="bold">Strategic Framework: Small Businesses Competing with Amazon</text>

    <text x="100" y="100" font-size="12" font-weight="bold">Immediate Opportunities (MAEVE):</text>
    <text x="100" y="115" font-size="11">1. Local Advantage Strategy: Same-day delivery without Prime membership fees</text>
    <text x="100" y="130" font-size="11">2. Relationship Commerce: Personal service Amazon can't replicate at scale</text>
    <text x="100" y="145" font-size="11">3. Niche Expertise: Deep knowledge in specific categories (examples: specialty foods, custom furniture)</text>

    <text x="100" y="170" font-size="12" font-weight="bold">Systemic Context (DOLORES support):</text>
    <text x="100" y="185" font-size="11">• Growing antitrust scrutiny creating policy opportunities • Consumer "shop local" movement gaining momentum</text>

    <text x="100" y="210" font-size="12" font-weight="bold">Implementation Roadmap: [Full strategic plan with 47 citations provided...]</text>

    <text x="900" y="100" font-size="11" font-weight="bold">Research Metrics:</text>
    <text x="900" y="115" font-size="10">• Sources analyzed: 3,765</text>
    <text x="900" y="130" font-size="10">• High-quality sources: 47</text>
    <text x="900" y="145" font-size="10">• Paradigms used: 2</text>
    <text x="900" y="160" font-size="10">• Research time: 4.7 sec</text>
    <text x="900" y="175" font-size="10">• Confidence: 92%</text>
  </g>

  <!-- Arrows showing flow -->
  <path d="M 700 210 L 700 240" stroke="#6b7280" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M 700 440 L 700 470" stroke="#6b7280" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M 700 750 L 700 780" stroke="#6b7280" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M 700 1030 L 700 1060" stroke="#6b7280" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M 700 1280 L 700 1310" stroke="#6b7280" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6b7280"/>
    </marker>
  </defs>
</svg>
